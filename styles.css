/* Substack Sidebar Blocker - Simple and Effective */

/* Hide any element that contains "Up Next" text - BUT PRESERVE SEARCH */
*:has-text("Up Next"):not(:has(input[type="search"])):not(:has(input[placeholder*="search"])):not(:has(input[placeholder*="Search"])) {
  display: none !important;
}

/* Hide any element that contains "Trending" text - BUT PRESERVE SEARCH */
*:has-text("Trending"):not(:has(input[type="search"])):not(:has(input[placeholder*="search"])):not(:has(input[placeholder*="Search"])) {
  display: none !important;
}

/* Hide any element that contains "See all" text (for recommendation sections) - BUT PRESERVE SEARCH */
*:has-text("See all"):not(:has(input[type="search"])):not(:has(input[placeholder*="search"])):not(:has(input[placeholder*="Search"])) {
  display: none !important;
}

/* Hide recommendation-related classes */
[class*="recommendation"],
[class*="trending"],
[class*="upNext"],
[class*="sidebar"]:not([aria-label="Main navigation"]) {
  display: none !important;
}

/* Hide elements with recommendation aria-labels */
[aria-label*="recommendations"],
[aria-label*="trending"],
[aria-label*="up next"] {
  display: none !important;
}

/* Hide recommendation data attributes */
[data-testid*="recommendations"],
[data-testid*="trending"] {
  display: none !important;
}

/* Adjust main content to use full width */
.reader-nav-root {
  --size-right-sidebar: 0px !important;
  max-width: 100% !important;
}

/* Hide any element that might be a right sidebar */
aside:not([aria-label="Main navigation"]) {
  display: none !important;
}

/* Target Substack's specific structure - but preserve navigation */
.pencraft:has-text("Up Next"):not(:has(button[data-href])):not(:has(input)):not(:has(a[href])) {
  display: none !important;
}

.pencraft:has-text("Trending"):not(:has(button[data-href])):not(:has(input)):not(:has(a[href])) {
  display: none !important;
}

/* PRESERVE SEARCH AND EXPLORE ELEMENTS - Don't hide search/explore functionality */
input[type="search"],
input[placeholder*="search"],
input[placeholder*="Search"],
button[aria-label*="search"],
button[aria-label*="Search"],
button[aria-label*="explore"],
button[aria-label*="Explore"],
[aria-label*="search"],
[aria-label*="Search"],
[aria-label*="explore"],
[aria-label*="Explore"],
.search,
.Search,
.explore,
.Explore {
  display: block !important;
  visibility: visible !important;
}

/* Preserve elements containing search/explore functionality */
*:has(input[type="search"]),
*:has(input[placeholder*="search"]),
*:has(input[placeholder*="Search"]),
*:has(button[aria-label*="search"]),
*:has(button[aria-label*="Search"]),
*:has(button[aria-label*="explore"]),
*:has(button[aria-label*="Explore"]) {
  display: block !important;
  visibility: visible !important;
}
